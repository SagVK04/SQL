CREATE TABLE USERDATA (
	userid varchar2(6) primary key,
	email varchar2(20) unique,
	fullname varchar2(18) not null,
	gender char(1),
	address varchar2(35)
);
CREATE TABLE ITEMCATEGORY( 
	catid char(3) primary key,
	catname varchar2(15),
	description varchar2(30)
);
CREATE TABLE ITEM(
	itemid char(3) primary key,
	itemtype char(5),
	itemname varchar2(50) unique,
	unitprice number(6,2) not null,
	Foreign key (itemtype) references ITEMCATEGORY(catid) 
);
CREATE TABLE ORDERLIST(
	orderid number GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	userid varchar2(6),
	itemid char(3),
	qty number(2) not null,
	amount number(8,2) not null,
	orderdate date,
	paymode char(4)
);

/*2*/
/*2A*/
ALTER TABLE USERDATA RENAME TO ALLUSER;
/*2B*/
ALTER TABLE ITEMCATEGORY RENAME COLUMN description TO descr;
ALTER TABLE ITEMCATEGORY MODIFY DESCR VARCHAR2(50);
ALTER TABLE ITEMCATEGORY MODIFY CATNAME NOT NULL;
/*2C*/
ALTER TABLE ORDERLIST MODIFY FOREIGN KEY(userid) references ALLUSER(userid);
ALTER TABLE ORDERLIST MODIFY FOREIGN KEY(itemid) references ITEM(itemid);
/*2D*/
ALTER TABLE ALLUSER DROP COLUMN GENDER;
ALTER TABLE ALLUSER ADD phone char(10) unique;

/*3*/
/*3a*/
INSERT INTO ITEMCATEGORY values('DRT','Desert', 'Usually taken after main course.');
INSERT INTO ITEMCATEGORY values('MNC', 'Main Course', 'Can be taken as lunch or dinner.');
INSERT INTO ITEMCATEGORY values('DRT','Desert', 'Usually taken after main course.');
INSERT INTO ITEMCATEGORY values('BVG','Beverages', 'Can be taken at any time.');
INSERT INTO ITEMCATEGORY values('FTF', 'Fast Food', 'Can be taken as breakfast or tiffin.');
/*3B*/ 
ALTER TABLE ITEM MODIFY itemtype char(3);
INSERT INTO ITEM VALUES('F01', 'FTF', 'Paneer Tikka Wrap Combo', 130.75);
INSERT INTO ITEM VALUES('M01', 'MNC', 'Rajma Chawal Bowl', 189.25);
INSERT INTO ITEM VALUES('M02','MNC', 'Hyderabadi Chicken Biryani', 220.50);
INSERT INTO ITEM VALUES('B01', 'BVG', 'Mint Chaas', 89.00);
INSERT INTO ITEM VALUES('M03', 'MNC', 'Kadai Paneer-Thali',209.75);
INSERT INTO ITEM VALUES('F02', 'FTF', 'Chicken Tikka Sandwich', 139.25);
INSERT INTO ITEM VALUES('M04','MNC','Chana Masala Pulao', 179.25);
INSERT INTO ITEM VALUES('F03','FTF','Chilli Corn 65', 179.25);
INSERT INTO ITEM VALUES('B02','BVG', 'Masala Lemonade', 89.00);
	
/*4*/
INSERT INTO ALLUSER VALUES('doro77','dorothy77@gmail.com','Dorothy Jones', '4D/1, Fern Road, Kolkata','4578895623');	
INSERT INTO ALLUSER VALUES('eve80','evelyn@gmail.com','Evelyn Simon', NULL, '7788778877');
INSERT INTO ALLUSER VALUES('harry','harry_t@yahoo.com','Harry Thompson', '14, BB Ganguly St., Kolkata', NULL);	
INSERT INTO ALLUSER VALUES('raja.h','rhasan@hotmail.com', 'Hasan Raja ',' AE34, Laketown, Kolkata',NULL);	
INSERT INTO ALLUSER VALUES('james5', 'james5@rediff.com','James Andy',NULL, NULL);
/*4f*/	
UPDATE ALLUSER SET address='Flat 207, Block K,New Town' WHERE fullname='Evelyn Simon';
/*4g*/
UPDATE ALLUSER SET address='255, Jessore Road,Barasat', phone='2200560087' WHERE fullname='James Andy';

/*5*/
/*5a*/
ALTER TABLE ORDERLIST DROP COLUMN amount; 
INSERT INTO ORDERLIST VALUES (DEFAULT,'doro77','F02', 3, TO_DATE('2022-Jan-02','YYYY-MON-DD'),'UPI');
INSERT INTO ORDERLIST VALUES (DEFAULT,'harry', 'M01', 1, TO_DATE('2022-Jan-04','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'harry','B02',1,TO_DATE('2022-Jan-04','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'doro77','F02',3,TO_DATE('2022-Jan-08','YYYY-MON-DD'),'UPI');
INSERT INTO ORDERLIST VALUES (DEFAULT,'doro77','B02',2,TO_DATE('2022-Jan-08','YYYY-MON-DD'),'UPI');
INSERT INTO ORDERLIST VALUES (DEFAULT,'raja.h','M02',3,TO_DATE('2022-Jan-18','YYYY-MON-DD'),'UPI');
INSERT INTO ORDERLIST VALUES (DEFAULT,'eve80','M01',1,TO_DATE('2022-Jan-21','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'eve80','B02',1,TO_DATE('2022-Jan-21','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'doro77','M04',2,TO_DATE('2022-Feb-03','YYYY-MON-DD'),'CRDC');
INSERT INTO ORDERLIST VALUES (DEFAULT,'james5','M03',1,TO_DATE('2022-Feb-03','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'james5','B02',2,TO_DATE('2022-Feb-03','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'doro77','M02',2,TO_DATE('2022-Feb-07','YYYY-MON-DD'),'UPI');
INSERT INTO ORDERLIST VALUES (DEFAULT,'doro77','B01',4,TO_DATE('2022-Feb-09','YYYY-MON-DD'),'UPI');
INSERT INTO ORDERLIST VALUES (DEFAULT,'james5','F02',2,TO_DATE('2022-Feb-12','YYYY-MON-DD'),'DEBT');
INSERT INTO ORDERLIST VALUES (DEFAULT,'eve80','M04',10,TO_DATE('2022-Feb-20','YYYY-MON-DD'),'CRDC');
INSERT INTO ORDERLIST VALUES (DEFAULT,'eve80','B01',6,TO_DATE('2022-Feb-20','YYYY-MON-DD'),'CRDC');
INSERT INTO ORDERLIST VALUES (DEFAULT,'eve80','F02',2,TO_DATE('2022-Feb-20','YYYY-MON-DD'),'CRDC');
INSERT INTO ORDERLIST VALUES (DEFAULT,'harry','M03',3,TO_DATE('2022-Feb-23','YYYY-MON-DD'),'NETB');
INSERT INTO ORDERLIST VALUES (DEFAULT,'raja.h','F02',4,TO_DATE('2022-Feb-26','YYYY-MON-DD'),'DEBT');
INSERT INTO ORDERLIST VALUES (DEFAULT,'harry','B02',2,TO_DATE('2022-Feb-28','YYYY-MON-DD'),'NETB');

	
	
	
	
	
	
	
